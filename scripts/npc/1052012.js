var status = 0;
    var hats1 = Array (1000000, 1000001, 1000002, 1000003, 1000004, 1000005, 1000006, 1000007, 1000008,
        1000009, 1000010, 1000011, 1000012, 1000013, 1000014, 1000015, 1000016, 1000017, 1000018,
        1000019, 1000020, 1000021, 1000022, 1000023, 1000025, 1000026, 1000027, 1000029, 1000030,   
        1000031, 1000032, 1000035, 1001000, 1001001, 1001002, 1001003, 1001004, 1001005, 1001006,
        1001007, 1001008, 1001009, 1001010, 1001011, 1001012, 1001013, 1001014, 1001015, 1001016,
        1001017, 1001018, 1001019, 1001020, 1001021, 1001022, 1001023, 1001024, 1001025, 1001026);      
        
    var hats2 = Array (1001027, 1001028, 1001029, 1001030, 1001031, 1001032, 1001033, 1001035, 1001036, 1001037,
        1001038, 1001039, 1001042, 1001043, 1001044, 1001045, 1001046, 1001047, 1001048, 1001049,
        1002000, 1002001, 1002002, 1002003, 1002004, 1002005, 1002006, 1002007, 1002008, 1002009,
        1002010, 1002011, 1002012, 1002013, 1002014, 1002015, 1002016, 1002017, 1002018, 1002019,
        1002020, 1002021, 1002022, 1002023, 1002024, 1002025, 1002026, 1002027, 1002028, 1002029,
        1002030, 1002031, 1002032, 1002033, 1002034, 1002035, 1002036, 1002037, 1002038, 1002039);
        
    var hats3 = Array (1002040, 1002041, 1002042, 1002043, 1002044, 1002045, 1002046, 1002047, 1002048, 1002049,
       1002050, 1002051, 1002052, 1002053, 1002054, 1002055, 1002056, 1002057, 1002058, 1002059,
        1002060, 1002061, 1002062, 1002063, 1002064, 1002065, 1002066, 1002067, 1002068, 1002069,
        1002070, 1002071, 1002072, 1002073, 1002074, 1002075, 1002076, 1002077, 1002078, 1002079,
        1002080, 1002081, 1002082, 1002083, 1002084, 1002085, 1002086, 1002087, 1002088, 1002089,
        1002090, 1002091, 1002092, 1002093, 1002094, 1002095, 1002096, 1002097, 1002098, 1002099);
        
    var hats4 = Array(1002100, 1002101, 1002102, 1002103, 1002104, 1002105, 1002106, 1002107, 1002108, 1002109,
       1002110, 1002111, 1002112, 1002113, 1002114, 1002115, 1002116, 1002117, 1002118, 1002119,
        1002120, 1002121, 1002122, 1002123, 1002124, 1002125, 1002126, 1002127, 1002128, 1002129,
        1002130, 1002131, 1002132, 1002133, 1002134, 1002135, 1002136, 1002137, 1002138, 1002139,
        1002141, 1002142, 1002143, 1002144, 1002145, 1002146, 1002147, 1002148, 1002149, 1002150,
        1002151, 1002152, 1002153, 1002154, 1002155, 1002156, 1002157, 1002158, 1002159, 1002160);
        
    var hats5 = Array(1002161, 1002162, 1002163, 1002164, 1002165, 1002166, 1002167, 1002168, 1002169, 1002170,
        1002171, 1002172, 1002173, 1002174, 1002175, 1002176, 1002177, 1002178, 1002179, 1002180,
        1002181, 1002182, 1002183, 1002184, 1002185, 1002186, 1002187, 1002188, 1002189, 1002190,
        1002191, 1002192, 1002193, 1002194, 1002195, 1002196, 1002197, 1002198, 1002199, 1002200,
        1002201, 1002202, 1002203, 1002204, 1002205, 1002206, 1002207, 1002208, 1002209, 1002210,
        1002211, 1002212, 1002213, 1002214, 1002215, 1002216, 1002217, 1002218, 1002219, 1002220);
        
    var hats6 = Array(1002221, 1002222, 1002223, 1002224, 1002225, 1002226, 1002227, 1002228, 1002229, 1002230,
        1002231, 1002232, 1002233, 1002234, 1002235, 1002236, 1002237, 1002238, 1002239, 1002240,
        1002241, 1002242, 1002243, 1002244, 1002245, 1002246, 1002247, 1002248, 1002249, 1002250,
        1002251, 1002252, 1002253, 1002254, 1002255, 1002256, 1002257, 1002258, 1002259, 1002260,
        1002261, 1002262, 1002263, 1002264, 1002265, 1002266, 1002267, 1002268, 1002269, 1002270,
        1002271, 1002272, 1002273, 1002274, 1002275, 1002276, 1002277, 1002278, 1002279, 1002280);
        
    var hats7 = Array(1002281, 1002282, 1002283, 1002284, 1002285, 1002286, 1002287, 1002288, 1002289, 1002290,
        1002291, 1002292, 1002293, 1002294, 1002295, 1002296, 1002297, 1002298, 1002299, 1002300,
        1002301, 1002302, 1002303, 1002304, 1002305, 1002306, 1002307, 1002308, 1002309, 1002310,        
        1002311, 1002312, 1002313, 1002314, 1002315, 1002316, 1002317, 1002318, 1002319, 1002320,
        1002321, 1002322, 1002323, 1002324, 1002325, 1002326, 1002327, 1002328, 1002329, 1002330,
        1002331, 1002332, 1002333, 1002334, 1002335, 1002336, 1002337, 1002338, 1002339, 1002340);
        
    var hats8 = Array(1002341, 1002342, 1002343, 1002344, 1002345, 1002346, 1002347, 1002348, 1002349, 1002350,
        1002351, 1002352, 1002353, 1002354, 1002355, 1002356, 1002357, 1002358, 1002359, 1002360,
        1002361, 1002362, 1002363, 1002364, 1002365, 1002366, 1002367, 1002368, 1002369, 1002370,
        1002371, 1002372, 1002373, 1002374, 1002375, 1002376, 1002377, 1002378, 1002379, 1002380,
        1002381, 1002382, 1002383, 1002384, 1002385, 1002386, 1002387, 1002388, 1002389, 1002390,
        1002391, 1002392, 1002393, 1002394, 1002395, 1002396, 1002397, 1002398, 1002399, 1002400);
        
    var hats9 = Array(1002401, 1002402, 1002403, 1002404, 1002405, 1002406, 1002407, 1002408, 1002409, 1002410,
        1002411, 1002412, 1002413, 1002414, 1002415, 1002416, 1002417, 1002418, 1002420, 1002421,
        1002422, 1002423, 1002424, 1002425, 1002426, 1002427, 1002428, 1002429, 1002430, 1002431,
        1002432, 1002433, 1002434, 1002435, 1002436, 1002437, 1002438, 1002439, 1002440, 1002441,
        1002442, 1002443, 1002444, 1002445, 1002446, 1002447, 1002448, 1002449, 1002450, 1002451,
        1002452, 1002453, 1002454, 1002455, 1002456, 1002457, 1002458, 1002459, 1002460, 1002461);
        
    var hats10 = Array(1002462, 1002463, 1002464, 1002465, 1002466, 1002467, 1002468, 1002469, 1002470, 1002471,
        1002472, 1002476, 1002477, 1002478, 1002479, 1002480, 1002481, 1002482, 1002483, 1002484,
        1002485, 1002486, 1002487, 1002488, 1002489, 1002490, 1002491, 1002492, 1002493, 1002495,
        1002496, 1002497, 1002498, 1002499, 1002500, 1002501, 1002502, 1002503, 1002504, 1002505,
        1002506, 1002507, 1002508, 1002509, 1002510, 1002511, 1002512, 1002513, 1002515, 1002516,
        1002517, 1002518, 1002519, 1002520, 1002521, 1002522, 1002523, 1002524, 1002525, 1002526);
        
    var hats11 = Array(1002527, 1002528, 1002529, 1002530, 1002531, 1002532, 1002534, 1002536, 1002542, 1002543,
        1002544, 1002545, 1002547, 1002548, 1002549, 1002550, 1002551, 1002552, 1002554, 1002555,
        1002556, 1002557, 1002558, 1002559, 1002560, 1002562, 1002565, 1002566, 1002567, 1002568,
        1002569, 1002571, 1002572, 1002573, 1002574, 1002575, 1002576, 1002577, 1002578, 1002579,
        1002580, 1002582, 1002584, 1002585, 1002586, 1002587, 1002590, 1002591, 1002592, 1002593,
        1002594, 1002596, 1002597, 1002598, 1002599, 1002600, 1002601, 1002602, 1002603, 1002605);
        
    var hats12 = Array(1002607, 1002608, 1002610, 1002613, 1002616, 1002619, 1002622, 1002625, 1002628, 1002631,
        1002634, 1002637, 1002640, 1002643, 1002646, 1002649, 1002650, 1002653, 1002654, 1002656,
        1002660, 1002661, 1002662, 1002663, 1002666, 1002667, 1002672, 1002673, 1002674, 1002675,        
        1002676, 1002677, 1002678, 1002679, 1002691, 1002692, 1002693, 1002694, 1002695, 1002696,
        1002697, 1002698, 1002699, 1002700, 1002701, 1002703, 1002704, 1002705, 1002706, 1002707,
        1002708, 1002709, 1002710, 1002711, 1002712, 1002713, 1002714, 1002715, 1002716, 1002717);
        
    var hats13 = Array (1002721, 1002722, 1002723, 1002724, 1002725, 1002726, 1002727, 1002728, 1002734, 1002735,
        1002736, 1002737, 1002738, 1002739, 1002740, 1002741, 1002742, 1002747, 1002748, 1002749,
        1002750, 1002752, 1002753, 1002755, 1002756, 1002757, 1002758, 1002759, 1002760, 1002762,
        1002763, 1002764, 1002765, 1002766, 1002770, 1002771, 1002773, 1002774, 1002776, 1002777,
        1002778, 1002779, 1002780, 1002784, 1002785, 1002788, 1002790, 1002791, 1002792, 1002793,
        1002794, 1002796, 1002797, 1002798, 1002800, 1002803, 1002804, 1002812, 1002820, 1002821);
        
    var hats14 = Array(1002822, 1002823, 1002824, 1002837, 1002839, 1002840, 1002849, 1002850, 1002851, 1002856,
        1002857, 1002858, 1002859, 1002860, 1002861, 1002863, 1002869, 1002876, 1002877, 1002878,
        1002880, 1002881, 1002887, 1002890, 1002891, 1002903, 1002907, 1002913, 1002921, 1002922,
        1002928, 1002929, 1002940, 1002941, 1002942, 1002943, 1002945, 1002947, 1002948, 1002949,
        1002950, 1002951, 1002952, 1002953, 1002956, 1002961, 1002968, 1002978, 1002979, 1002984, 
        1002995);

		var x = 20;
function start() {
	status = -1;
	action(1, 0, 0);
}

function action(mode, type, selection) {
	if (mode == -1) {
		cm.dispose();
	} else {
		if (status >= 0 && mode == 0) {
			cm.dispose();
			return;
		}
		if (mode == 1)
			status++;
		else
			status--;
		if (status == 0) {
			cm.sendOk("Hello there #h #. I'm Hat Seller of NinjaMS who sell every available hat in NinjaMS For you. Ofcourse for a small fee. Are you ready to go shopping with me? note : All items will cost you 20 tao each and every item will be tagged with your name :)");
		} else if (status == 1){
			if (!cm.getPlayer().haveSight(x)) {
				cm.sendOk("Seems like you are a bit low on funds . Sorry, I dont do charity");
				cm.dispose();
			} else {
				var selstr = "choose what you want #b";
				for (i = 0; i < 14; i++) {
					selstr += " \r\n#L" + i +"# HatShop - " + (i + 1) + "#l";
				}
				cm.sendSimple(selstr);
			}
		} else if (status == 2){
			var showItem = " Choose What you want : #b";
			switch(selection) {
				case 0:
					for (i = 0; i < hats1.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats1[i] + "# - #t" + hats1[i] + "# "; 
					}
					status = 100;
					break;
				case 1:
					for (i = 0; i < hats2.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats2[i] + "# - #t" + hats2[i] + "# "; 
					}
					status = 110;
					break;
				case 2:
					for (i = 0; i < hats3.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats3[i] + "# - #t" + hats3[i] + "# "; 
					}
					status = 120;
					break;
				case 3:
					for (i = 0; i < hats4.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats4[i] + "# - #t" + hats4[i] + "# "; 
					}
					status = 130;
					break;
				case 4:
					for (i = 0; i < hats5.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats5[i] + "# - #t" + hats5[i] + "# "; 
					}
					status = 140;
					break; 
				case 5:
					for (i = 0; i < hats6.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats6[i] + "# - #t" + hats6[i] + "# "; 
					}
					status = 150;
					break;
				case 6:
					for (i = 0; i < hats7.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats7[i] + "# - #t" + hats7[i] + "# "; 
					}
					status = 160;
					break;
				case 7:
					for (i = 0; i < hats8.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats8[i] + "# - #t" + hats8[i] + "# "; 
					}
					status = 170;
					break;
				case 8:
					for (i = 0; i < hats9.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats9[i] + "# - #t" + hats9[i] + "# "; 
					}
					status = 180;
					break;
				case 9:
					for (i = 0; i < hats10.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats10[i] + "# - #t" + hats10[i] + "# "; 
					}
					status = 190;
					break;
				case 10:
					for (i = 0; i < hats11.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats11[i] + "# - #t" + hats11[i] + "# "; 
					}
					status = 200;
					break;
				case 11:
					for (i = 0; i < hats12.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats12[i] + "# - #t" + hats12[i] + "# "; 
					}
					status = 210;
					break;
				case 12:
					for (i = 0; i < hats13.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats13[i] + "# - #t" + hats13[i] + "# "; 
					}
					status = 220;
					break;
				case 13:
					for (i = 0; i < hats14.length; i++) {
						showItem += "\r\n#L" + i + "# #v" + hats14[i] + "# - #t" + hats14[i] + "# "; 
					}
					status = 230;
					break;
			}
			cm.sendSimple(showItem);				
		} else if (status == 101) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats1[selection], 1);
			cm.dispose();
		}else if (status == 111) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats2[selection], 1);
			cm.dispose();
		}else if (status == 121) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats3[selection], 1);
			cm.dispose();
		}else if (status == 131) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats4[selection], 1);
			cm.dispose();
		}else if (status == 141) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats5[selection], 1);
			cm.dispose();
		}else if (status == 151) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats6[selection], 1);
			cm.dispose();
		}else if (status == 161) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats7[selection], 1);
			cm.dispose();
		}else if (status == 171) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats8[selection], 1);
			cm.dispose();
		}else if (status == 181) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats9[selection], 1);
			cm.dispose();
		}else if (status == 191) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats10[selection], 1);
			cm.dispose();
		}else if (status == 201) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats11[selection], 1);
			cm.dispose();
		}else if (status == 211) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats12[selection], 1);
			cm.dispose();
		}else if (status == 221) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats13[selection], 1);
			cm.dispose();
		}else if (status == 231) {
			cm.gainItem(4032016, -x)
			cm.gainTaggedItem(hats14[selection], 1);
			cm.dispose();
		}
	}
}
